{
  "version": 3,
  "sources": ["../../lodash.throttle/index.js", "../../@milkdown/plugin-block/src/__internal__/with-meta.ts", "../../@milkdown/plugin-block/src/block-config.ts", "../../@milkdown/plugin-block/src/__internal__/select-node-by-dom.ts", "../../@milkdown/plugin-block/src/__internal__/serialize-for-clipboard.ts", "../../@milkdown/plugin-block/src/block-service.ts", "../../@milkdown/plugin-block/src/block-plugin.ts", "../../@milkdown/plugin-block/src/block-provider.ts", "../../@milkdown/plugin-block/src/index.ts"],
  "sourcesContent": ["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n", "import type { Meta, MilkdownPlugin } from '@milkdown/ctx'\n\nexport function withMeta<T extends MilkdownPlugin>(plugin: T, meta: Partial<Meta> & Pick<Meta, 'displayName'>): T {\n  Object.assign(plugin, {\n    meta: {\n      package: '@milkdown/plugin-block',\n      ...meta,\n    },\n  })\n\n  return plugin\n}\n", "import type { Node, ResolvedPos } from '@milkdown/prose/model'\nimport { $ctx } from '@milkdown/utils'\n\nimport { findParent } from '@milkdown/prose'\nimport { withMeta } from './__internal__/with-meta'\n\n/// @internal\nexport type FilterNodes = (pos: ResolvedPos, node: Node) => boolean\n\n/// @internal\nexport const defaultNodeFilter: FilterNodes = (pos) => {\n  const table = findParent(node => node.type.name === 'table')(pos)\n  if (table)\n    return false\n\n  return true\n}\n\n/// A slice contains the block config.\n/// Possible properties:\n/// - `filterNodes`: A function to filter nodes that can be dragged.\nexport const blockConfig = $ctx<{ filterNodes: FilterNodes }, 'blockConfig'>({ filterNodes: defaultNodeFilter }, 'blockConfig')\n\nwithMeta(blockConfig, {\n  displayName: 'Ctx<blockConfig>',\n})\n", "import type { EditorView } from '@milkdown/prose/view'\n\nimport type { FilterNodes } from '../block-config'\nimport type { ActiveNode } from '../types'\n\nexport function selectRootNodeByDom(view: EditorView, coords: { x: number, y: number }, filterNodes: FilterNodes): ActiveNode | null {\n  const root = view.dom.parentElement\n  if (!root)\n    return null\n\n  const pos = view.posAtCoords({\n    left: coords.x,\n    top: coords.y,\n  })?.inside\n  if (pos == null || pos < 0)\n    return null\n\n  let $pos = view.state.doc.resolve(pos)\n  let node = view.state.doc.nodeAt(pos)\n  let element = view.nodeDOM(pos) as HTMLElement | null\n\n  const filter = (needLookup: boolean) => {\n    const checkDepth = $pos.depth >= 1 && $pos.index($pos.depth) === 0\n    const shouldLookUp = needLookup || checkDepth\n\n    if (!shouldLookUp)\n      return\n\n    const ancestorPos = $pos.before($pos.depth)\n    node = view.state.doc.nodeAt(ancestorPos)\n    element = view.nodeDOM(ancestorPos) as HTMLElement | null\n    $pos = view.state.doc.resolve(ancestorPos)\n\n    if (!filterNodes($pos, node!))\n      filter(true)\n  }\n\n  // If filterNodes returns false, we should look up the parent node.\n  const filterResult = filterNodes($pos, node!)\n  filter(!filterResult)\n\n  if (!element || !node)\n    return null\n\n  return { node, $pos, el: element }\n}\n", "/**\n * Copy pasted from https://github.com/ProseMirror/prosemirror-view/blob/master/src/clipboard.ts\n */\n\nimport type { NodeType, Slice } from '@milkdown/prose/model'\nimport { DOMSerializer } from '@milkdown/prose/model'\nimport type { EditorView } from '@milkdown/prose/view'\n\nlet _detachedDoc: Document | null = null\nfunction detachedDoc() {\n  return _detachedDoc || (_detachedDoc = document.implementation.createHTMLDocument('title'))\n}\n\nconst wrapMap: { [node: string]: string[] } = {\n  thead: ['table'],\n  tbody: ['table'],\n  tfoot: ['table'],\n  caption: ['table'],\n  colgroup: ['table'],\n  col: ['table', 'colgroup'],\n  tr: ['table', 'tbody'],\n  td: ['table', 'tbody', 'tr'],\n  th: ['table', 'tbody', 'tr'],\n}\n\nexport function serializeForClipboard(view: EditorView, slice: Slice) {\n  const context = []\n  let { openStart, openEnd, content } = slice\n  while (openStart > 1 && openEnd > 1 && content.childCount === 1 && content.firstChild!.childCount === 1) {\n    openStart -= 1\n    openEnd -= 1\n    const node = content.firstChild!\n    context.push(\n      node.type.name,\n      node.attrs !== (node.type as NodeType & { defaultAttrs: unknown }).defaultAttrs ? node.attrs : null,\n    )\n    content = node.content\n  }\n\n  const serializer = view.someProp('clipboardSerializer') || DOMSerializer.fromSchema(view.state.schema)\n  const doc = detachedDoc()\n  const wrap = doc.createElement('div')\n  wrap.appendChild(serializer.serializeFragment(content, { document: doc }))\n\n  let firstChild = wrap.firstChild\n  let needsWrap\n  let wrappers = 0\n  // eslint-disable-next-line no-cond-assign\n  while (firstChild && firstChild.nodeType === 1 && (needsWrap = wrapMap[firstChild.nodeName.toLowerCase()])) {\n    for (let i = needsWrap.length - 1; i >= 0; i--) {\n      const wrapper = doc.createElement(needsWrap[i] as string)\n      while (wrap.firstChild) wrapper.appendChild(wrap.firstChild)\n      wrap.appendChild(wrapper)\n      wrappers++\n    }\n    firstChild = wrap.firstChild\n  }\n\n  if (firstChild && firstChild.nodeType === 1) {\n    (firstChild as HTMLElement).setAttribute(\n      'data-pm-slice',\n            `${openStart} ${openEnd}${wrappers ? ` -${wrappers}` : ''} ${JSON.stringify(context)}`,\n    )\n  }\n\n  const text\n        = view.someProp('clipboardTextSerializer', f => f(slice, view))\n        || slice.content.textBetween(0, slice.content.size, '\\n\\n')\n\n  return { dom: wrap, text }\n}\n", "import type { Ctx } from '@milkdown/ctx'\nimport { editorViewCtx } from '@milkdown/core'\nimport { browser } from '@milkdown/prose'\nimport type { Selection } from '@milkdown/prose/state'\nimport { NodeSelection } from '@milkdown/prose/state'\nimport type { EditorView } from '@milkdown/prose/view'\nimport throttle from 'lodash.throttle'\n\nimport type { FilterNodes } from './block-config'\nimport { blockConfig } from './block-config'\nimport { selectRootNodeByDom } from './__internal__/select-node-by-dom'\nimport { serializeForClipboard } from './__internal__/serialize-for-clipboard'\nimport type { ActiveNode } from './types'\n\nconst brokenClipboardAPI\n    = (browser.ie && <number>browser.ie_version < 15) || (browser.ios && browser.webkit_version < 604)\n\nconst buffer = 20\n\n/// @internal\nexport type BlockServiceMessageType = {\n  type: 'hide'\n} | {\n  type: 'show'\n  active: ActiveNode\n}\n\n/// @internal\nexport type BlockServiceMessage = (message: BlockServiceMessageType) => void\n\n/// @internal\n/// The block service, provide events and methods for block plugin.\n/// Generally you don't need to use this class directly.\nexport class BlockService {\n  /// @internal\n  #ctx?: Ctx\n\n  /// @internal\n  #createSelection: () => null | Selection = () => {\n    if (!this.#active)\n      return null\n    const result = this.#active\n    const view = this.#view\n\n    if (view && NodeSelection.isSelectable(result.node)) {\n      const nodeSelection = NodeSelection.create(view.state.doc, result.$pos.pos)\n      view.dispatch(view.state.tr.setSelection(nodeSelection))\n      view.focus()\n      this.#activeSelection = nodeSelection\n      return nodeSelection\n    }\n    return null\n  }\n\n  /// @internal\n  #activeSelection: null | Selection = null\n  /// @internal\n  #active: null | ActiveNode = null\n  /// @internal\n  #activeDOMRect: undefined | DOMRect = undefined\n\n  /// @internal\n  #dragging = false\n\n  /// @internal\n  get #filterNodes(): FilterNodes | undefined {\n    return this.#ctx?.get(blockConfig.key).filterNodes\n  }\n\n  /// @internal\n  get #view() {\n    return this.#ctx?.get(editorViewCtx)\n  }\n\n  /// @internal\n  #notify?: BlockServiceMessage\n\n  /// @internal\n  #hide = () => {\n    this.#notify?.({ type: 'hide' })\n    this.#active = null\n  }\n\n  /// @internal\n  #show = (active: ActiveNode) => {\n    this.#active = active\n    this.#notify?.({ type: 'show', active })\n  }\n\n  /// Bind editor context and notify function to the service.\n  bind = (ctx: Ctx, notify: BlockServiceMessage) => {\n    this.#ctx = ctx\n    this.#notify = notify\n  }\n\n  /// Add mouse event to the dom.\n  addEvent = (dom: HTMLElement) => {\n    dom.addEventListener('mousedown', this.#handleMouseDown)\n    dom.addEventListener('mouseup', this.#handleMouseUp)\n    dom.addEventListener('dragstart', this.#handleDragStart)\n  }\n\n  /// Remove mouse event to the dom.\n  removeEvent = (dom: HTMLElement) => {\n    dom.removeEventListener('mousedown', this.#handleMouseDown)\n    dom.removeEventListener('mouseup', this.#handleMouseUp)\n    dom.removeEventListener('dragstart', this.#handleDragStart)\n  }\n\n  /// Unbind the notify function.\n  unBind = () => {\n    this.#notify = undefined\n  }\n\n  /// @internal\n  #handleMouseDown = () => {\n    this.#activeDOMRect = this.#active?.el.getBoundingClientRect()\n    this.#createSelection()\n  }\n\n  /// @internal\n  #handleMouseUp = () => {\n    if (!this.#dragging) {\n      requestAnimationFrame(() => {\n        if (!this.#activeDOMRect)\n          return\n        this.#view?.focus()\n      })\n\n      return\n    }\n    this.#dragging = false\n    this.#activeSelection = null\n  }\n\n  /// @internal\n  #handleDragStart = (event: DragEvent) => {\n    this.#dragging = true\n\n    const view = this.#view\n    if (!view)\n      return\n    view.dom.dataset.dragging = 'true'\n\n    const selection = this.#activeSelection\n    if (event.dataTransfer && selection) {\n      const slice = selection.content()\n      event.dataTransfer.effectAllowed = 'copyMove'\n      const { dom, text } = serializeForClipboard(view, slice)\n      event.dataTransfer.clearData()\n      event.dataTransfer.setData(brokenClipboardAPI ? 'Text' : 'text/html', dom.innerHTML)\n      if (!brokenClipboardAPI)\n        event.dataTransfer.setData('text/plain', text)\n      const activeEl = this.#active?.el\n      if (activeEl)\n        event.dataTransfer.setDragImage(activeEl, 0, 0)\n\n      view.dragging = {\n        slice,\n        move: true,\n      }\n    }\n  }\n\n  /// @internal\n  keydownCallback = (view: EditorView) => {\n    this.#hide()\n\n    this.#dragging = false\n    view.dom.dataset.dragging = 'false'\n    return false\n  }\n\n  /// @internal\n  #mousemoveCallback = throttle((view: EditorView, event: MouseEvent) => {\n    if (!view.editable)\n      return\n\n    const rect = view.dom.getBoundingClientRect()\n    const x = rect.left + rect.width / 2\n    const dom = view.root.elementFromPoint(x, event.clientY)\n    if (!(dom instanceof Element)) {\n      this.#hide()\n      return\n    }\n\n    const filterNodes = this.#filterNodes\n    if (!filterNodes)\n      return\n\n    const result = selectRootNodeByDom(view, { x, y: event.clientY }, filterNodes)\n\n    if (!result) {\n      this.#hide()\n      return\n    }\n    this.#show(result)\n  }, 200)\n\n  /// @internal\n  mousemoveCallback = (view: EditorView, event: MouseEvent) => {\n    if (view.composing || !view.editable)\n      return false\n\n    this.#mousemoveCallback(view, event)\n\n    return false\n  }\n\n  /// @internal\n  dragoverCallback = (view: EditorView, event: DragEvent) => {\n    if (this.#dragging) {\n      const root = this.#view?.dom.parentElement\n      if (!root)\n        return false\n\n      const hasHorizontalScrollbar = root.scrollHeight > root.clientHeight\n\n      const rootRect = root.getBoundingClientRect()\n      if (hasHorizontalScrollbar) {\n        if (root.scrollTop > 0 && Math.abs(event.y - rootRect.y) < buffer) {\n          const top = root.scrollTop > 10 ? root.scrollTop - 10 : 0\n          root.scrollTop = top\n          return false\n        }\n        const totalHeight = Math.round(view.dom.getBoundingClientRect().height)\n        const scrollBottom = Math.round(root.scrollTop + rootRect.height)\n        if (scrollBottom < totalHeight && Math.abs(event.y - (rootRect.height + rootRect.y)) < buffer) {\n          const top = root.scrollTop + 10\n          root.scrollTop = top\n          return false\n        }\n      }\n    }\n    return false\n  }\n\n  /// @internal\n  dragenterCallback = (view: EditorView) => {\n    if (!view.dragging)\n      return\n\n    this.#dragging = true\n    view.dom.dataset.dragging = 'true'\n  }\n\n  /// @internal\n  dragleaveCallback = (view: EditorView, event: DragEvent) => {\n    const x = event.clientX\n    const y = event.clientY\n    // if cursor out of the editor\n    if (x < 0 || y < 0 || x > window.innerWidth || y > window.innerHeight) {\n      this.#active = null\n      this.#dragEnd(view)\n    }\n  }\n\n  /// @internal\n  dropCallback = (view: EditorView) => {\n    this.#dragEnd(view)\n\n    return false\n  }\n\n  /// @internal\n  dragendCallback = (view: EditorView) => {\n    this.#dragEnd(view)\n  }\n\n  /// @internal\n  #dragEnd = (view: EditorView) => {\n    this.#dragging = false\n    view.dom.dataset.dragging = 'false'\n  }\n}\n", "import type { PluginSpec } from '@milkdown/prose/state'\nimport { Plugin, PluginKey } from '@milkdown/prose/state'\nimport { $ctx, $prose } from '@milkdown/utils'\n\nimport { BlockService } from './block-service'\nimport { withMeta } from './__internal__/with-meta'\nimport { blockConfig } from './block-config'\n\n/// @internal\nexport const blockService = $ctx(new BlockService(), 'blockService')\n\nwithMeta(blockConfig, {\n  displayName: 'Ctx<blockService>',\n})\n\n/// A slice contains a factory that will return a plugin spec.\n/// Users can use this slice to customize the plugin.\nexport const blockSpec = $ctx<PluginSpec<any>, 'blockSpec'>({}, 'blockSpec')\n\nwithMeta(blockConfig, {\n  displayName: 'Ctx<blockSpec>',\n})\n\n/// The block prosemirror plugin.\nexport const blockPlugin = $prose((ctx) => {\n  const milkdownPluginBlockKey = new PluginKey('MILKDOWN_BLOCK')\n  const service = ctx.get(blockService.key)\n  const spec = ctx.get(blockSpec.key)\n\n  return new Plugin({\n    key: milkdownPluginBlockKey,\n    ...spec,\n    props: {\n      ...spec.props,\n      handleDOMEvents: {\n        drop: (view) => {\n          return service.dropCallback(view)\n        },\n        pointermove: (view, event) => {\n          return service.mousemoveCallback(view, event)\n        },\n        keydown: (view) => {\n          return service.keydownCallback(view)\n        },\n        dragover: (view, event) => {\n          return service.dragoverCallback(view, event)\n        },\n        dragleave: (view, event) => {\n          return service.dragleaveCallback(view, event)\n        },\n        dragenter: (view) => {\n          return service.dragenterCallback(view)\n        },\n        dragend: (view) => {\n          return service.dragendCallback(view)\n        },\n      },\n    },\n  })\n})\n\nwithMeta(blockPlugin, {\n  displayName: 'Prose<block>',\n})\n", "import type { Ctx } from '@milkdown/ctx'\nimport type { EditorState } from '@milkdown/prose/state'\nimport type { EditorView } from '@milkdown/prose/view'\n\nimport type { Placement, VirtualElement } from '@floating-ui/dom'\nimport { computePosition, flip, offset } from '@floating-ui/dom'\n\nimport { editorViewCtx } from '@milkdown/core'\nimport type { BlockService } from './block-service'\nimport { blockService } from './block-plugin'\nimport type { ActiveNode } from './types'\n\n/// The context of the block provider.\nexport interface DeriveContext {\n  ctx: Ctx\n  active: ActiveNode\n  editorDom: HTMLElement\n  blockDom: HTMLElement\n}\n\n/// Options for creating block provider.\nexport interface BlockProviderOptions {\n  /// The context of the editor.\n  ctx: Ctx\n  /// The content of the block.\n  content: HTMLElement\n  /// The function to determine whether the tooltip should be shown.\n  shouldShow?: (view: EditorView, prevState?: EditorState) => boolean\n  /// The offset to get the block. Default is 0.\n  getOffset?: (deriveContext: DeriveContext) => number | {\n    mainAxis?: number\n    crossAxis?: number\n    alignmentAxis?: number | null\n  }\n  /// The function to get the position of the block. Default is the position of the active node.\n  getPosition?: (deriveContext: DeriveContext) => Omit<DOMRect, 'toJSON'>\n  /// The function to get the placement of the block. Default is 'left'.\n  getPlacement?: (deriveContext: DeriveContext) => Placement\n}\n\n/// A provider for creating block.\nexport class BlockProvider {\n  /// @internal\n  readonly #element: HTMLElement\n\n  /// @internal\n  readonly #ctx: Ctx\n\n  /// @internal\n  #service?: BlockService\n\n  /// @internal\n  #activeNode: ActiveNode | null = null\n\n  /// @internal\n  #initialized = false\n\n  /// @internal\n  readonly #getOffset?: (deriveContext: DeriveContext) => number | {\n    mainAxis?: number\n    crossAxis?: number\n    alignmentAxis?: number | null\n  }\n\n  /// @internal\n  readonly #getPosition?: (deriveContext: DeriveContext) => Omit<DOMRect, 'toJSON'>\n\n  /// @internal\n  readonly #getPlacement?: (deriveContext: DeriveContext) => Placement\n\n  /// The context of current active node.\n  get active() {\n    return this.#activeNode\n  }\n\n  constructor(options: BlockProviderOptions) {\n    this.#ctx = options.ctx\n    this.#element = options.content\n    this.#getOffset = options.getOffset\n    this.#getPosition = options.getPosition\n    this.#getPlacement = options.getPlacement\n    this.hide()\n  }\n\n  /// @internal\n  #init() {\n    const view = this.#ctx.get(editorViewCtx)\n    view.dom.parentElement?.appendChild(this.#element)\n\n    const service = this.#ctx.get(blockService.key)\n    service.bind(this.#ctx, (message) => {\n      if (message.type === 'hide') {\n        this.hide()\n        this.#activeNode = null\n      }\n\n      else if (message.type === 'show') {\n        this.show(message.active)\n        this.#activeNode = message.active\n      }\n    })\n\n    this.#service = service\n    this.#service.addEvent(this.#element)\n    this.#element.draggable = true\n  }\n\n  /// Update provider state by editor view.\n  update = (): void => {\n    requestAnimationFrame(() => {\n      if (!this.#initialized) {\n        try {\n          this.#init()\n          this.#initialized = true\n        }\n        catch {\n          // ignore\n        }\n      }\n    })\n  }\n\n  /// Destroy the block.\n  destroy = () => {\n    this.#service?.unBind()\n    this.#service?.removeEvent(this.#element)\n    this.#element.remove()\n  }\n\n  /// Show the block.\n  show = (active: ActiveNode) => {\n    const dom = active.el\n    const editorDom = this.#ctx.get(editorViewCtx).dom\n    const deriveContext: DeriveContext = {\n      ctx: this.#ctx,\n      active,\n      editorDom,\n      blockDom: this.#element,\n    }\n    const virtualEl: VirtualElement = {\n      contextElement: dom,\n      getBoundingClientRect: () => {\n        if (this.#getPosition)\n          return this.#getPosition(deriveContext)\n\n        return dom.getBoundingClientRect()\n      },\n    }\n    const middleware = [flip()]\n    if (this.#getOffset) {\n      const offsetOption = this.#getOffset(deriveContext)\n      const offsetExt = offset(offsetOption)\n      middleware.push(offsetExt)\n    }\n\n    computePosition(virtualEl, this.#element, {\n      placement: this.#getPlacement\n        ? this.#getPlacement(deriveContext)\n        : 'left',\n      middleware,\n    }).then(({ x, y }) => {\n      Object.assign(this.#element.style, {\n        left: `${x}px`,\n        top: `${y}px`,\n      })\n      this.#element.dataset.show = 'true'\n    })\n  }\n\n  /// Hide the block.\n  hide = () => {\n    this.#element.dataset.show = 'false'\n    setTimeout(() => {\n      Object.assign(this.#element.style, {\n        left: `-999px`,\n        top: `-999px`,\n      })\n    }, 200)\n  }\n}\n", "import type { SliceType } from '@milkdown/ctx'\nimport type { PluginSpec } from '@milkdown/prose/state'\nimport type { $Ctx, $Prose } from '@milkdown/utils'\nimport type { FilterNodes } from './block-config'\nimport { blockConfig } from './block-config'\nimport { blockPlugin, blockService, blockSpec } from './block-plugin'\nimport type { BlockService } from './block-service'\n\nexport * from './block-plugin'\nexport * from './block-provider'\nexport * from './block-service'\nexport * from './block-config'\nexport * from './types'\n\n/// @internal\nexport type BlockPlugin = [\n  $Ctx<PluginSpec<any>, 'blockSpec'>,\n  $Ctx<{ filterNodes: FilterNodes }, 'blockConfig'>,\n  $Ctx<BlockService, 'blockService'>,\n  $Prose,\n] & {\n  key: SliceType<PluginSpec<any>, 'blockSpec'>\n  pluginKey: $Prose['key']\n}\n\n/// All plugins exported by this package.\nexport const block = [blockSpec, blockConfig, blockService, blockPlugin] as BlockPlugin\nblock.key = blockSpec.key\nblock.pluginKey = blockPlugin.key\n"],
  "mappings": "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",
  "names": ["result", "withMeta", "plugin", "meta", "defaultNodeFilter", "pos", "findParent", "node", "blockConfig", "$ctx", "selectRootNodeByDom", "view", "coords", "filterNodes", "_a", "$pos", "element", "filter", "needLookup", "checkDepth", "ancestorPos", "filterResult", "_detachedDoc", "detachedDoc", "wrapMap", "serializeForClipboard", "slice", "context", "openStart", "openEnd", "content", "serializer", "DOMSerializer", "doc", "wrap", "firstChild", "needsWrap", "wrappers", "i", "wrapper", "text", "f", "brokenClipboardAPI", "browser", "buffer", "BlockService", "__privateAdd", "_filterNodes", "_view", "_ctx", "_createSelection", "_activeSelection", "_active", "_activeDOMRect", "_dragging", "_notify", "_hide", "_show", "_handleMouseDown", "_handleMouseUp", "_handleDragStart", "_mousemoveCallback", "_dragEnd", "__privateSet", "__privateGet", "result", "view_get", "NodeSelection", "nodeSelection", "active", "ctx", "notify", "dom", "event", "selection", "activeEl", "throttle", "rect", "x", "filterNodes_get", "root", "hasHorizontalScrollbar", "rootRect", "top", "totalHeight", "y", "editorViewCtx", "blockService", "blockSpec", "blockPlugin", "$prose", "milkdownPluginBlockKey", "PluginKey", "service", "spec", "Plugin", "BlockProvider", "options", "_init", "_element", "_service", "_activeNode", "_initialized", "_getOffset", "_getPosition", "_getPlacement", "__privateMethod", "init_fn", "_b", "editorDom", "deriveContext", "virtualEl", "middleware", "flip", "offsetOption", "offsetExt", "offset", "computePosition", "message", "block"]
}
