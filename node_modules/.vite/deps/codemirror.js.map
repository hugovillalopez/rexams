{
  "version": 3,
  "sources": ["../../crelt/index.js", "../../@codemirror/search/dist/index.js", "../../@codemirror/lint/dist/index.js", "../../codemirror/dist/index.js"],
  "sourcesContent": ["export default function crelt() {\r\n  var elt = arguments[0]\r\n  if (typeof elt == \"string\") elt = document.createElement(elt)\r\n  var i = 1, next = arguments[1]\r\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\r\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\r\n      var value = next[name]\r\n      if (typeof value == \"string\") elt.setAttribute(name, value)\r\n      else if (value != null) elt[name] = value\r\n    }\r\n    i++\r\n  }\r\n  for (; i < arguments.length; i++) add(elt, arguments[i])\r\n  return elt\r\n}\r\n\r\nfunction add(elt, child) {\r\n  if (typeof child == \"string\") {\r\n    elt.appendChild(document.createTextNode(child))\r\n  } else if (child == null) {\r\n  } else if (child.nodeType != null) {\r\n    elt.appendChild(child)\r\n  } else if (Array.isArray(child)) {\r\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\r\n  } else {\r\n    throw new RangeError(\"Unsupported child node: \" + child)\r\n  }\r\n}\r\n", "import { showPanel, EditorView, getPanel, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\r\nimport { codePointAt, fromCodePoint, codePointSize, StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, RangeSetBuilder, Prec, EditorState, findClusterBreak } from '@codemirror/state';\r\nimport elt from 'crelt';\r\n\r\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\r\n    ? x => x.normalize(\"NFKD\") : x => x;\r\n/**\r\nA search cursor provides an iterator over text matches in a\r\ndocument.\r\n*/\r\nclass SearchCursor {\r\n    /**\r\n    Create a text cursor. The query is the search string, `from` to\r\n    `to` provides the region to search.\r\n    \r\n    When `normalize` is given, it will be called, on both the query\r\n    string and the content it is matched against, before comparing.\r\n    You can, for example, create a case-insensitive search by\r\n    passing `s => s.toLowerCase()`.\r\n    \r\n    Text is always normalized with\r\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\r\n    (when supported).\r\n    */\r\n    constructor(text, query, from = 0, to = text.length, normalize, test) {\r\n        this.test = test;\r\n        /**\r\n        The current match (only holds a meaningful value after\r\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\r\n        `done` is false).\r\n        */\r\n        this.value = { from: 0, to: 0 };\r\n        /**\r\n        Whether the end of the iterated region has been reached.\r\n        */\r\n        this.done = false;\r\n        this.matches = [];\r\n        this.buffer = \"\";\r\n        this.bufferPos = 0;\r\n        this.iter = text.iterRange(from, to);\r\n        this.bufferStart = from;\r\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\r\n        this.query = this.normalize(query);\r\n    }\r\n    peek() {\r\n        if (this.bufferPos == this.buffer.length) {\r\n            this.bufferStart += this.buffer.length;\r\n            this.iter.next();\r\n            if (this.iter.done)\r\n                return -1;\r\n            this.bufferPos = 0;\r\n            this.buffer = this.iter.value;\r\n        }\r\n        return codePointAt(this.buffer, this.bufferPos);\r\n    }\r\n    /**\r\n    Look for the next match. Updates the iterator's\r\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\r\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\r\n    at least once before using the cursor.\r\n    */\r\n    next() {\r\n        while (this.matches.length)\r\n            this.matches.pop();\r\n        return this.nextOverlapping();\r\n    }\r\n    /**\r\n    The `next` method will ignore matches that partially overlap a\r\n    previous match. This method behaves like `next`, but includes\r\n    such matches.\r\n    */\r\n    nextOverlapping() {\r\n        for (;;) {\r\n            let next = this.peek();\r\n            if (next < 0) {\r\n                this.done = true;\r\n                return this;\r\n            }\r\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\r\n            this.bufferPos += codePointSize(next);\r\n            let norm = this.normalize(str);\r\n            if (norm.length)\r\n                for (let i = 0, pos = start;; i++) {\r\n                    let code = norm.charCodeAt(i);\r\n                    let match = this.match(code, pos, this.bufferPos + this.bufferStart);\r\n                    if (i == norm.length - 1) {\r\n                        if (match) {\r\n                            this.value = match;\r\n                            return this;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (pos == start && i < str.length && str.charCodeAt(i) == code)\r\n                        pos++;\r\n                }\r\n        }\r\n    }\r\n    match(code, pos, end) {\r\n        let match = null;\r\n        for (let i = 0; i < this.matches.length; i += 2) {\r\n            let index = this.matches[i], keep = false;\r\n            if (this.query.charCodeAt(index) == code) {\r\n                if (index == this.query.length - 1) {\r\n                    match = { from: this.matches[i + 1], to: end };\r\n                }\r\n                else {\r\n                    this.matches[i]++;\r\n                    keep = true;\r\n                }\r\n            }\r\n            if (!keep) {\r\n                this.matches.splice(i, 2);\r\n                i -= 2;\r\n            }\r\n        }\r\n        if (this.query.charCodeAt(0) == code) {\r\n            if (this.query.length == 1)\r\n                match = { from: pos, to: end };\r\n            else\r\n                this.matches.push(1, pos);\r\n        }\r\n        if (match && this.test && !this.test(match.from, match.to, this.buffer, this.bufferStart))\r\n            match = null;\r\n        return match;\r\n    }\r\n}\r\nif (typeof Symbol != \"undefined\")\r\n    SearchCursor.prototype[Symbol.iterator] = function () { return this; };\r\n\r\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\r\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\r\n/**\r\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\r\nbut searches for a regular expression pattern instead of a plain\r\nstring.\r\n*/\r\nclass RegExpCursor {\r\n    /**\r\n    Create a cursor that will search the given range in the given\r\n    document. `query` should be the raw pattern (as you'd pass it to\r\n    `new RegExp`).\r\n    */\r\n    constructor(text, query, options, from = 0, to = text.length) {\r\n        this.text = text;\r\n        this.to = to;\r\n        this.curLine = \"\";\r\n        /**\r\n        Set to `true` when the cursor has reached the end of the search\r\n        range.\r\n        */\r\n        this.done = false;\r\n        /**\r\n        Will contain an object with the extent of the match and the\r\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\r\n        sucessfully finds a match.\r\n        */\r\n        this.value = empty;\r\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\r\n            return new MultilineRegExpCursor(text, query, options, from, to);\r\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\r\n        this.test = options === null || options === void 0 ? void 0 : options.test;\r\n        this.iter = text.iter();\r\n        let startLine = text.lineAt(from);\r\n        this.curLineStart = startLine.from;\r\n        this.matchPos = toCharEnd(text, from);\r\n        this.getLine(this.curLineStart);\r\n    }\r\n    getLine(skip) {\r\n        this.iter.next(skip);\r\n        if (this.iter.lineBreak) {\r\n            this.curLine = \"\";\r\n        }\r\n        else {\r\n            this.curLine = this.iter.value;\r\n            if (this.curLineStart + this.curLine.length > this.to)\r\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\r\n            this.iter.next();\r\n        }\r\n    }\r\n    nextLine() {\r\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\r\n        if (this.curLineStart > this.to)\r\n            this.curLine = \"\";\r\n        else\r\n            this.getLine(0);\r\n    }\r\n    /**\r\n    Move to the next match, if there is one.\r\n    */\r\n    next() {\r\n        for (let off = this.matchPos - this.curLineStart;;) {\r\n            this.re.lastIndex = off;\r\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\r\n            if (match) {\r\n                let from = this.curLineStart + match.index, to = from + match[0].length;\r\n                this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\r\n                if (from == this.curLineStart + this.curLine.length)\r\n                    this.nextLine();\r\n                if ((from < to || from > this.value.to) && (!this.test || this.test(from, to, match))) {\r\n                    this.value = { from, to, match };\r\n                    return this;\r\n                }\r\n                off = this.matchPos - this.curLineStart;\r\n            }\r\n            else if (this.curLineStart + this.curLine.length < this.to) {\r\n                this.nextLine();\r\n                off = 0;\r\n            }\r\n            else {\r\n                this.done = true;\r\n                return this;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst flattened = /*@__PURE__*/new WeakMap();\r\n// Reusable (partially) flattened document strings\r\nclass FlattenedDoc {\r\n    constructor(from, text) {\r\n        this.from = from;\r\n        this.text = text;\r\n    }\r\n    get to() { return this.from + this.text.length; }\r\n    static get(doc, from, to) {\r\n        let cached = flattened.get(doc);\r\n        if (!cached || cached.from >= to || cached.to <= from) {\r\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\r\n            flattened.set(doc, flat);\r\n            return flat;\r\n        }\r\n        if (cached.from == from && cached.to == to)\r\n            return cached;\r\n        let { text, from: cachedFrom } = cached;\r\n        if (cachedFrom > from) {\r\n            text = doc.sliceString(from, cachedFrom) + text;\r\n            cachedFrom = from;\r\n        }\r\n        if (cached.to < to)\r\n            text += doc.sliceString(cached.to, to);\r\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\r\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\r\n    }\r\n}\r\nclass MultilineRegExpCursor {\r\n    constructor(text, query, options, from, to) {\r\n        this.text = text;\r\n        this.to = to;\r\n        this.done = false;\r\n        this.value = empty;\r\n        this.matchPos = toCharEnd(text, from);\r\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\r\n        this.test = options === null || options === void 0 ? void 0 : options.test;\r\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Chunk.Base */));\r\n    }\r\n    chunkEnd(pos) {\r\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\r\n    }\r\n    next() {\r\n        for (;;) {\r\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\r\n            let match = this.re.exec(this.flat.text);\r\n            // Skip empty matches directly after the last match\r\n            if (match && !match[0] && match.index == off) {\r\n                this.re.lastIndex = off + 1;\r\n                match = this.re.exec(this.flat.text);\r\n            }\r\n            if (match) {\r\n                let from = this.flat.from + match.index, to = from + match[0].length;\r\n                // If a match goes almost to the end of a noncomplete chunk, try\r\n                // again, since it'll likely be able to match more\r\n                if ((this.flat.to >= this.to || match.index + match[0].length <= this.flat.text.length - 10) &&\r\n                    (!this.test || this.test(from, to, match))) {\r\n                    this.value = { from, to, match };\r\n                    this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\r\n                    return this;\r\n                }\r\n            }\r\n            if (this.flat.to == this.to) {\r\n                this.done = true;\r\n                return this;\r\n            }\r\n            // Grow the flattened doc\r\n            this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\r\n        }\r\n    }\r\n}\r\nif (typeof Symbol != \"undefined\") {\r\n    RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] =\r\n        function () { return this; };\r\n}\r\nfunction validRegExp(source) {\r\n    try {\r\n        new RegExp(source, baseFlags);\r\n        return true;\r\n    }\r\n    catch (_a) {\r\n        return false;\r\n    }\r\n}\r\nfunction toCharEnd(text, pos) {\r\n    if (pos >= text.length)\r\n        return pos;\r\n    let line = text.lineAt(pos), next;\r\n    while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 0xDC00 && next < 0xE000)\r\n        pos++;\r\n    return pos;\r\n}\r\n\r\nfunction createLineDialog(view) {\r\n    let line = String(view.state.doc.lineAt(view.state.selection.main.head).number);\r\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\", value: line });\r\n    let dom = elt(\"form\", {\r\n        class: \"cm-gotoLine\",\r\n        onkeydown: (event) => {\r\n            if (event.keyCode == 27) { // Escape\r\n                event.preventDefault();\r\n                view.dispatch({ effects: dialogEffect.of(false) });\r\n                view.focus();\r\n            }\r\n            else if (event.keyCode == 13) { // Enter\r\n                event.preventDefault();\r\n                go();\r\n            }\r\n        },\r\n        onsubmit: (event) => {\r\n            event.preventDefault();\r\n            go();\r\n        }\r\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\r\n    function go() {\r\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\r\n        if (!match)\r\n            return;\r\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\r\n        let [, sign, ln, cl, percent] = match;\r\n        let col = cl ? +cl.slice(1) : 0;\r\n        let line = ln ? +ln : startLine.number;\r\n        if (ln && percent) {\r\n            let pc = line / 100;\r\n            if (sign)\r\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\r\n            line = Math.round(state.doc.lines * pc);\r\n        }\r\n        else if (ln && sign) {\r\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\r\n        }\r\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\r\n        let selection = EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length)));\r\n        view.dispatch({\r\n            effects: [dialogEffect.of(false), EditorView.scrollIntoView(selection.from, { y: 'center' })],\r\n            selection,\r\n        });\r\n        view.focus();\r\n    }\r\n    return { dom };\r\n}\r\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\r\nconst dialogField = /*@__PURE__*/StateField.define({\r\n    create() { return true; },\r\n    update(value, tr) {\r\n        for (let e of tr.effects)\r\n            if (e.is(dialogEffect))\r\n                value = e.value;\r\n        return value;\r\n    },\r\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\r\n});\r\n/**\r\nCommand that shows a dialog asking the user for a line number, and\r\nwhen a valid position is provided, moves the cursor to that line.\r\n\r\nSupports line numbers, relative line offsets prefixed with `+` or\r\n`-`, document percentages suffixed with `%`, and an optional\r\ncolumn position by adding `:` and a second number after the line\r\nnumber.\r\n*/\r\nconst gotoLine = view => {\r\n    let panel = getPanel(view, createLineDialog);\r\n    if (!panel) {\r\n        let effects = [dialogEffect.of(true)];\r\n        if (view.state.field(dialogField, false) == null)\r\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\r\n        view.dispatch({ effects });\r\n        panel = getPanel(view, createLineDialog);\r\n    }\r\n    if (panel)\r\n        panel.dom.querySelector(\"input\").select();\r\n    return true;\r\n};\r\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\r\n    \".cm-panel.cm-gotoLine\": {\r\n        padding: \"2px 6px 4px\",\r\n        \"& label\": { fontSize: \"80%\" }\r\n    }\r\n});\r\n\r\nconst defaultHighlightOptions = {\r\n    highlightWordAroundCursor: false,\r\n    minSelectionLength: 1,\r\n    maxMatches: 100,\r\n    wholeWords: false\r\n};\r\nconst highlightConfig = /*@__PURE__*/Facet.define({\r\n    combine(options) {\r\n        return combineConfig(options, defaultHighlightOptions, {\r\n            highlightWordAroundCursor: (a, b) => a || b,\r\n            minSelectionLength: Math.min,\r\n            maxMatches: Math.min\r\n        });\r\n    }\r\n});\r\n/**\r\nThis extension highlights text that matches the selection. It uses\r\nthe `\"cm-selectionMatch\"` class for the highlighting. When\r\n`highlightWordAroundCursor` is enabled, the word at the cursor\r\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\r\n*/\r\nfunction highlightSelectionMatches(options) {\r\n    let ext = [defaultTheme, matchHighlighter];\r\n    if (options)\r\n        ext.push(highlightConfig.of(options));\r\n    return ext;\r\n}\r\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\r\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\r\n// Whether the characters directly outside the given positions are non-word characters\r\nfunction insideWordBoundaries(check, state, from, to) {\r\n    return (from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\r\n        (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);\r\n}\r\n// Whether the characters directly at the given positions are word characters\r\nfunction insideWord(check, state, from, to) {\r\n    return check(state.sliceDoc(from, from + 1)) == CharCategory.Word\r\n        && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;\r\n}\r\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\r\n    constructor(view) {\r\n        this.decorations = this.getDeco(view);\r\n    }\r\n    update(update) {\r\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\r\n            this.decorations = this.getDeco(update.view);\r\n    }\r\n    getDeco(view) {\r\n        let conf = view.state.facet(highlightConfig);\r\n        let { state } = view, sel = state.selection;\r\n        if (sel.ranges.length > 1)\r\n            return Decoration.none;\r\n        let range = sel.main, query, check = null;\r\n        if (range.empty) {\r\n            if (!conf.highlightWordAroundCursor)\r\n                return Decoration.none;\r\n            let word = state.wordAt(range.head);\r\n            if (!word)\r\n                return Decoration.none;\r\n            check = state.charCategorizer(range.head);\r\n            query = state.sliceDoc(word.from, word.to);\r\n        }\r\n        else {\r\n            let len = range.to - range.from;\r\n            if (len < conf.minSelectionLength || len > 200)\r\n                return Decoration.none;\r\n            if (conf.wholeWords) {\r\n                query = state.sliceDoc(range.from, range.to); // TODO: allow and include leading/trailing space?\r\n                check = state.charCategorizer(range.head);\r\n                if (!(insideWordBoundaries(check, state, range.from, range.to) &&\r\n                    insideWord(check, state, range.from, range.to)))\r\n                    return Decoration.none;\r\n            }\r\n            else {\r\n                query = state.sliceDoc(range.from, range.to);\r\n                if (!query)\r\n                    return Decoration.none;\r\n            }\r\n        }\r\n        let deco = [];\r\n        for (let part of view.visibleRanges) {\r\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\r\n            while (!cursor.next().done) {\r\n                let { from, to } = cursor.value;\r\n                if (!check || insideWordBoundaries(check, state, from, to)) {\r\n                    if (range.empty && from <= range.from && to >= range.to)\r\n                        deco.push(mainMatchDeco.range(from, to));\r\n                    else if (from >= range.to || to <= range.from)\r\n                        deco.push(matchDeco.range(from, to));\r\n                    if (deco.length > conf.maxMatches)\r\n                        return Decoration.none;\r\n                }\r\n            }\r\n        }\r\n        return Decoration.set(deco);\r\n    }\r\n}, {\r\n    decorations: v => v.decorations\r\n});\r\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\r\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\r\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\r\n});\r\n// Select the words around the cursors.\r\nconst selectWord = ({ state, dispatch }) => {\r\n    let { selection } = state;\r\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\r\n    if (newSel.eq(selection))\r\n        return false;\r\n    dispatch(state.update({ selection: newSel }));\r\n    return true;\r\n};\r\n// Find next occurrence of query relative to last cursor. Wrap around\r\n// the document if there are no more matches.\r\nfunction findNextOccurrence(state, query) {\r\n    let { main, ranges } = state.selection;\r\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\r\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\r\n        cursor.next();\r\n        if (cursor.done) {\r\n            if (cycled)\r\n                return null;\r\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\r\n            cycled = true;\r\n        }\r\n        else {\r\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\r\n                continue;\r\n            if (fullWord) {\r\n                let word = state.wordAt(cursor.value.from);\r\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\r\n                    continue;\r\n            }\r\n            return cursor.value;\r\n        }\r\n    }\r\n}\r\n/**\r\nSelect next occurrence of the current selection. Expand selection\r\nto the surrounding word when the selection is empty.\r\n*/\r\nconst selectNextOccurrence = ({ state, dispatch }) => {\r\n    let { ranges } = state.selection;\r\n    if (ranges.some(sel => sel.from === sel.to))\r\n        return selectWord({ state, dispatch });\r\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\r\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\r\n        return false;\r\n    let range = findNextOccurrence(state, searchedText);\r\n    if (!range)\r\n        return false;\r\n    dispatch(state.update({\r\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\r\n        effects: EditorView.scrollIntoView(range.to)\r\n    }));\r\n    return true;\r\n};\r\n\r\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\r\n    combine(configs) {\r\n        return combineConfig(configs, {\r\n            top: false,\r\n            caseSensitive: false,\r\n            literal: false,\r\n            regexp: false,\r\n            wholeWord: false,\r\n            createPanel: view => new SearchPanel(view),\r\n            scrollToMatch: range => EditorView.scrollIntoView(range)\r\n        });\r\n    }\r\n});\r\n/**\r\nAdd search state to the editor configuration, and optionally\r\nconfigure the search extension.\r\n([`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) will automatically\r\nenable this if it isn't already on).\r\n*/\r\nfunction search(config) {\r\n    return config ? [searchConfigFacet.of(config), searchExtensions] : searchExtensions;\r\n}\r\n/**\r\nA search query. Part of the editor's search state.\r\n*/\r\nclass SearchQuery {\r\n    /**\r\n    Create a query object.\r\n    */\r\n    constructor(config) {\r\n        this.search = config.search;\r\n        this.caseSensitive = !!config.caseSensitive;\r\n        this.literal = !!config.literal;\r\n        this.regexp = !!config.regexp;\r\n        this.replace = config.replace || \"\";\r\n        this.valid = !!this.search && (!this.regexp || validRegExp(this.search));\r\n        this.unquoted = this.unquote(this.search);\r\n        this.wholeWord = !!config.wholeWord;\r\n    }\r\n    /**\r\n    @internal\r\n    */\r\n    unquote(text) {\r\n        return this.literal ? text :\r\n            text.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\r\n    }\r\n    /**\r\n    Compare this query to another query.\r\n    */\r\n    eq(other) {\r\n        return this.search == other.search && this.replace == other.replace &&\r\n            this.caseSensitive == other.caseSensitive && this.regexp == other.regexp &&\r\n            this.wholeWord == other.wholeWord;\r\n    }\r\n    /**\r\n    @internal\r\n    */\r\n    create() {\r\n        return this.regexp ? new RegExpQuery(this) : new StringQuery(this);\r\n    }\r\n    /**\r\n    Get a search cursor for this query, searching through the given\r\n    range in the given state.\r\n    */\r\n    getCursor(state, from = 0, to) {\r\n        let st = state.doc ? state : EditorState.create({ doc: state });\r\n        if (to == null)\r\n            to = st.doc.length;\r\n        return this.regexp ? regexpCursor(this, st, from, to) : stringCursor(this, st, from, to);\r\n    }\r\n}\r\nclass QueryType {\r\n    constructor(spec) {\r\n        this.spec = spec;\r\n    }\r\n}\r\nfunction stringCursor(spec, state, from, to) {\r\n    return new SearchCursor(state.doc, spec.unquoted, from, to, spec.caseSensitive ? undefined : x => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : undefined);\r\n}\r\nfunction stringWordTest(doc, categorizer) {\r\n    return (from, to, buf, bufPos) => {\r\n        if (bufPos > from || bufPos + buf.length < to) {\r\n            bufPos = Math.max(0, from - 2);\r\n            buf = doc.sliceString(bufPos, Math.min(doc.length, to + 2));\r\n        }\r\n        return (categorizer(charBefore(buf, from - bufPos)) != CharCategory.Word ||\r\n            categorizer(charAfter(buf, from - bufPos)) != CharCategory.Word) &&\r\n            (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word ||\r\n                categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);\r\n    };\r\n}\r\nclass StringQuery extends QueryType {\r\n    constructor(spec) {\r\n        super(spec);\r\n    }\r\n    nextMatch(state, curFrom, curTo) {\r\n        let cursor = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();\r\n        if (cursor.done) {\r\n            let end = Math.min(state.doc.length, curFrom + this.spec.unquoted.length);\r\n            cursor = stringCursor(this.spec, state, 0, end).nextOverlapping();\r\n        }\r\n        return cursor.done || cursor.value.from == curFrom && cursor.value.to == curTo ? null : cursor.value;\r\n    }\r\n    // Searching in reverse is, rather than implementing an inverted search\r\n    // cursor, done by scanning chunk after chunk forward.\r\n    prevMatchInRange(state, from, to) {\r\n        for (let pos = to;;) {\r\n            let start = Math.max(from, pos - 10000 /* FindPrev.ChunkSize */ - this.spec.unquoted.length);\r\n            let cursor = stringCursor(this.spec, state, start, pos), range = null;\r\n            while (!cursor.nextOverlapping().done)\r\n                range = cursor.value;\r\n            if (range)\r\n                return range;\r\n            if (start == from)\r\n                return null;\r\n            pos -= 10000 /* FindPrev.ChunkSize */;\r\n        }\r\n    }\r\n    prevMatch(state, curFrom, curTo) {\r\n        let found = this.prevMatchInRange(state, 0, curFrom);\r\n        if (!found)\r\n            found = this.prevMatchInRange(state, Math.max(0, curTo - this.spec.unquoted.length), state.doc.length);\r\n        return found && (found.from != curFrom || found.to != curTo) ? found : null;\r\n    }\r\n    getReplacement(_result) { return this.spec.unquote(this.spec.replace); }\r\n    matchAll(state, limit) {\r\n        let cursor = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];\r\n        while (!cursor.next().done) {\r\n            if (ranges.length >= limit)\r\n                return null;\r\n            ranges.push(cursor.value);\r\n        }\r\n        return ranges;\r\n    }\r\n    highlight(state, from, to, add) {\r\n        let cursor = stringCursor(this.spec, state, Math.max(0, from - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));\r\n        while (!cursor.next().done)\r\n            add(cursor.value.from, cursor.value.to);\r\n    }\r\n}\r\nfunction regexpCursor(spec, state, from, to) {\r\n    return new RegExpCursor(state.doc, spec.search, {\r\n        ignoreCase: !spec.caseSensitive,\r\n        test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : undefined\r\n    }, from, to);\r\n}\r\nfunction charBefore(str, index) {\r\n    return str.slice(findClusterBreak(str, index, false), index);\r\n}\r\nfunction charAfter(str, index) {\r\n    return str.slice(index, findClusterBreak(str, index));\r\n}\r\nfunction regexpWordTest(categorizer) {\r\n    return (_from, _to, match) => !match[0].length ||\r\n        (categorizer(charBefore(match.input, match.index)) != CharCategory.Word ||\r\n            categorizer(charAfter(match.input, match.index)) != CharCategory.Word) &&\r\n            (categorizer(charAfter(match.input, match.index + match[0].length)) != CharCategory.Word ||\r\n                categorizer(charBefore(match.input, match.index + match[0].length)) != CharCategory.Word);\r\n}\r\nclass RegExpQuery extends QueryType {\r\n    nextMatch(state, curFrom, curTo) {\r\n        let cursor = regexpCursor(this.spec, state, curTo, state.doc.length).next();\r\n        if (cursor.done)\r\n            cursor = regexpCursor(this.spec, state, 0, curFrom).next();\r\n        return cursor.done ? null : cursor.value;\r\n    }\r\n    prevMatchInRange(state, from, to) {\r\n        for (let size = 1;; size++) {\r\n            let start = Math.max(from, to - size * 10000 /* FindPrev.ChunkSize */);\r\n            let cursor = regexpCursor(this.spec, state, start, to), range = null;\r\n            while (!cursor.next().done)\r\n                range = cursor.value;\r\n            if (range && (start == from || range.from > start + 10))\r\n                return range;\r\n            if (start == from)\r\n                return null;\r\n        }\r\n    }\r\n    prevMatch(state, curFrom, curTo) {\r\n        return this.prevMatchInRange(state, 0, curFrom) ||\r\n            this.prevMatchInRange(state, curTo, state.doc.length);\r\n    }\r\n    getReplacement(result) {\r\n        return this.spec.unquote(this.spec.replace).replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\r\n            : i == \"&\" ? result.match[0]\r\n                : i != \"0\" && +i < result.match.length ? result.match[i]\r\n                    : m);\r\n    }\r\n    matchAll(state, limit) {\r\n        let cursor = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];\r\n        while (!cursor.next().done) {\r\n            if (ranges.length >= limit)\r\n                return null;\r\n            ranges.push(cursor.value);\r\n        }\r\n        return ranges;\r\n    }\r\n    highlight(state, from, to, add) {\r\n        let cursor = regexpCursor(this.spec, state, Math.max(0, from - 250 /* RegExp.HighlightMargin */), Math.min(to + 250 /* RegExp.HighlightMargin */, state.doc.length));\r\n        while (!cursor.next().done)\r\n            add(cursor.value.from, cursor.value.to);\r\n    }\r\n}\r\n/**\r\nA state effect that updates the current search query. Note that\r\nthis only has an effect if the search state has been initialized\r\n(by including [`search`](https://codemirror.net/6/docs/ref/#search.search) in your configuration or\r\nby running [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) at least\r\nonce).\r\n*/\r\nconst setSearchQuery = /*@__PURE__*/StateEffect.define();\r\nconst togglePanel = /*@__PURE__*/StateEffect.define();\r\nconst searchState = /*@__PURE__*/StateField.define({\r\n    create(state) {\r\n        return new SearchState(defaultQuery(state).create(), null);\r\n    },\r\n    update(value, tr) {\r\n        for (let effect of tr.effects) {\r\n            if (effect.is(setSearchQuery))\r\n                value = new SearchState(effect.value.create(), value.panel);\r\n            else if (effect.is(togglePanel))\r\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\r\n        }\r\n        return value;\r\n    },\r\n    provide: f => showPanel.from(f, val => val.panel)\r\n});\r\n/**\r\nGet the current search query from an editor state.\r\n*/\r\nfunction getSearchQuery(state) {\r\n    let curState = state.field(searchState, false);\r\n    return curState ? curState.query.spec : defaultQuery(state);\r\n}\r\n/**\r\nQuery whether the search panel is open in the given editor state.\r\n*/\r\nfunction searchPanelOpen(state) {\r\n    var _a;\r\n    return ((_a = state.field(searchState, false)) === null || _a === void 0 ? void 0 : _a.panel) != null;\r\n}\r\nclass SearchState {\r\n    constructor(query, panel) {\r\n        this.query = query;\r\n        this.panel = panel;\r\n    }\r\n}\r\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\r\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\r\n    constructor(view) {\r\n        this.view = view;\r\n        this.decorations = this.highlight(view.state.field(searchState));\r\n    }\r\n    update(update) {\r\n        let state = update.state.field(searchState);\r\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)\r\n            this.decorations = this.highlight(state);\r\n    }\r\n    highlight({ query, panel }) {\r\n        if (!panel || !query.spec.valid)\r\n            return Decoration.none;\r\n        let { view } = this;\r\n        let builder = new RangeSetBuilder();\r\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\r\n            let { from, to } = ranges[i];\r\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* RegExp.HighlightMargin */)\r\n                to = ranges[++i].to;\r\n            query.highlight(view.state, from, to, (from, to) => {\r\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\r\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\r\n            });\r\n        }\r\n        return builder.finish();\r\n    }\r\n}, {\r\n    decorations: v => v.decorations\r\n});\r\nfunction searchCommand(f) {\r\n    return view => {\r\n        let state = view.state.field(searchState, false);\r\n        return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);\r\n    };\r\n}\r\n/**\r\nOpen the search panel if it isn't already open, and move the\r\nselection to the first match after the current main selection.\r\nWill wrap around to the start of the document when it reaches the\r\nend.\r\n*/\r\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\r\n    let { to } = view.state.selection.main;\r\n    let next = query.nextMatch(view.state, to, to);\r\n    if (!next)\r\n        return false;\r\n    let selection = EditorSelection.single(next.from, next.to);\r\n    let config = view.state.facet(searchConfigFacet);\r\n    view.dispatch({\r\n        selection,\r\n        effects: [announceMatch(view, next), config.scrollToMatch(selection.main, view)],\r\n        userEvent: \"select.search\"\r\n    });\r\n    selectSearchInput(view);\r\n    return true;\r\n});\r\n/**\r\nMove the selection to the previous instance of the search query,\r\nbefore the current main selection. Will wrap past the start\r\nof the document to start searching at the end again.\r\n*/\r\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\r\n    let { state } = view, { from } = state.selection.main;\r\n    let prev = query.prevMatch(state, from, from);\r\n    if (!prev)\r\n        return false;\r\n    let selection = EditorSelection.single(prev.from, prev.to);\r\n    let config = view.state.facet(searchConfigFacet);\r\n    view.dispatch({\r\n        selection,\r\n        effects: [announceMatch(view, prev), config.scrollToMatch(selection.main, view)],\r\n        userEvent: \"select.search\"\r\n    });\r\n    selectSearchInput(view);\r\n    return true;\r\n});\r\n/**\r\nSelect all instances of the search query.\r\n*/\r\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\r\n    let ranges = query.matchAll(view.state, 1000);\r\n    if (!ranges || !ranges.length)\r\n        return false;\r\n    view.dispatch({\r\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to))),\r\n        userEvent: \"select.search.matches\"\r\n    });\r\n    return true;\r\n});\r\n/**\r\nSelect all instances of the currently selected text.\r\n*/\r\nconst selectSelectionMatches = ({ state, dispatch }) => {\r\n    let sel = state.selection;\r\n    if (sel.ranges.length > 1 || sel.main.empty)\r\n        return false;\r\n    let { from, to } = sel.main;\r\n    let ranges = [], main = 0;\r\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\r\n        if (ranges.length > 1000)\r\n            return false;\r\n        if (cur.value.from == from)\r\n            main = ranges.length;\r\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\r\n    }\r\n    dispatch(state.update({\r\n        selection: EditorSelection.create(ranges, main),\r\n        userEvent: \"select.search.matches\"\r\n    }));\r\n    return true;\r\n};\r\n/**\r\nReplace the current match of the search query.\r\n*/\r\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\r\n    let { state } = view, { from, to } = state.selection.main;\r\n    if (state.readOnly)\r\n        return false;\r\n    let next = query.nextMatch(state, from, from);\r\n    if (!next)\r\n        return false;\r\n    let changes = [], selection, replacement;\r\n    let effects = [];\r\n    if (next.from == from && next.to == to) {\r\n        replacement = state.toText(query.getReplacement(next));\r\n        changes.push({ from: next.from, to: next.to, insert: replacement });\r\n        next = query.nextMatch(state, next.from, next.to);\r\n        effects.push(EditorView.announce.of(state.phrase(\"replaced match on line $\", state.doc.lineAt(from).number) + \".\"));\r\n    }\r\n    if (next) {\r\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\r\n        selection = EditorSelection.single(next.from - off, next.to - off);\r\n        effects.push(announceMatch(view, next));\r\n        effects.push(state.facet(searchConfigFacet).scrollToMatch(selection.main, view));\r\n    }\r\n    view.dispatch({\r\n        changes, selection, effects,\r\n        userEvent: \"input.replace\"\r\n    });\r\n    return true;\r\n});\r\n/**\r\nReplace all instances of the search query with the given\r\nreplacement.\r\n*/\r\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\r\n    if (view.state.readOnly)\r\n        return false;\r\n    let changes = query.matchAll(view.state, 1e9).map(match => {\r\n        let { from, to } = match;\r\n        return { from, to, insert: query.getReplacement(match) };\r\n    });\r\n    if (!changes.length)\r\n        return false;\r\n    let announceText = view.state.phrase(\"replaced $ matches\", changes.length) + \".\";\r\n    view.dispatch({\r\n        changes,\r\n        effects: EditorView.announce.of(announceText),\r\n        userEvent: \"input.replace.all\"\r\n    });\r\n    return true;\r\n});\r\nfunction createSearchPanel(view) {\r\n    return view.state.facet(searchConfigFacet).createPanel(view);\r\n}\r\nfunction defaultQuery(state, fallback) {\r\n    var _a, _b, _c, _d, _e;\r\n    let sel = state.selection.main;\r\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\r\n    if (fallback && !selText)\r\n        return fallback;\r\n    let config = state.facet(searchConfigFacet);\r\n    return new SearchQuery({\r\n        search: ((_a = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a !== void 0 ? _a : config.literal) ? selText : selText.replace(/\\n/g, \"\\\\n\"),\r\n        caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config.caseSensitive,\r\n        literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config.literal,\r\n        regexp: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.regexp) !== null && _d !== void 0 ? _d : config.regexp,\r\n        wholeWord: (_e = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _e !== void 0 ? _e : config.wholeWord\r\n    });\r\n}\r\nfunction getSearchInput(view) {\r\n    let panel = getPanel(view, createSearchPanel);\r\n    return panel && panel.dom.querySelector(\"[main-field]\");\r\n}\r\nfunction selectSearchInput(view) {\r\n    let input = getSearchInput(view);\r\n    if (input && input == view.root.activeElement)\r\n        input.select();\r\n}\r\n/**\r\nMake sure the search panel is open and focused.\r\n*/\r\nconst openSearchPanel = view => {\r\n    let state = view.state.field(searchState, false);\r\n    if (state && state.panel) {\r\n        let searchInput = getSearchInput(view);\r\n        if (searchInput && searchInput != view.root.activeElement) {\r\n            let query = defaultQuery(view.state, state.query.spec);\r\n            if (query.valid)\r\n                view.dispatch({ effects: setSearchQuery.of(query) });\r\n            searchInput.focus();\r\n            searchInput.select();\r\n        }\r\n    }\r\n    else {\r\n        view.dispatch({ effects: [\r\n                togglePanel.of(true),\r\n                state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)\r\n            ] });\r\n    }\r\n    return true;\r\n};\r\n/**\r\nClose the search panel.\r\n*/\r\nconst closeSearchPanel = view => {\r\n    let state = view.state.field(searchState, false);\r\n    if (!state || !state.panel)\r\n        return false;\r\n    let panel = getPanel(view, createSearchPanel);\r\n    if (panel && panel.dom.contains(view.root.activeElement))\r\n        view.focus();\r\n    view.dispatch({ effects: togglePanel.of(false) });\r\n    return true;\r\n};\r\n/**\r\nDefault search-related key bindings.\r\n\r\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\r\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\r\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\r\n - Mod-Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\r\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\r\n*/\r\nconst searchKeymap = [\r\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\r\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\r\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\r\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\r\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\r\n    { key: \"Mod-Alt-g\", run: gotoLine },\r\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\r\n];\r\nclass SearchPanel {\r\n    constructor(view) {\r\n        this.view = view;\r\n        let query = this.query = view.state.field(searchState).query.spec;\r\n        this.commit = this.commit.bind(this);\r\n        this.searchField = elt(\"input\", {\r\n            value: query.search,\r\n            placeholder: phrase(view, \"Find\"),\r\n            \"aria-label\": phrase(view, \"Find\"),\r\n            class: \"cm-textfield\",\r\n            name: \"search\",\r\n            form: \"\",\r\n            \"main-field\": \"true\",\r\n            onchange: this.commit,\r\n            onkeyup: this.commit\r\n        });\r\n        this.replaceField = elt(\"input\", {\r\n            value: query.replace,\r\n            placeholder: phrase(view, \"Replace\"),\r\n            \"aria-label\": phrase(view, \"Replace\"),\r\n            class: \"cm-textfield\",\r\n            name: \"replace\",\r\n            form: \"\",\r\n            onchange: this.commit,\r\n            onkeyup: this.commit\r\n        });\r\n        this.caseField = elt(\"input\", {\r\n            type: \"checkbox\",\r\n            name: \"case\",\r\n            form: \"\",\r\n            checked: query.caseSensitive,\r\n            onchange: this.commit\r\n        });\r\n        this.reField = elt(\"input\", {\r\n            type: \"checkbox\",\r\n            name: \"re\",\r\n            form: \"\",\r\n            checked: query.regexp,\r\n            onchange: this.commit\r\n        });\r\n        this.wordField = elt(\"input\", {\r\n            type: \"checkbox\",\r\n            name: \"word\",\r\n            form: \"\",\r\n            checked: query.wholeWord,\r\n            onchange: this.commit\r\n        });\r\n        function button(name, onclick, content) {\r\n            return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\r\n        }\r\n        this.dom = elt(\"div\", { onkeydown: (e) => this.keydown(e), class: \"cm-search\" }, [\r\n            this.searchField,\r\n            button(\"next\", () => findNext(view), [phrase(view, \"next\")]),\r\n            button(\"prev\", () => findPrevious(view), [phrase(view, \"previous\")]),\r\n            button(\"select\", () => selectMatches(view), [phrase(view, \"all\")]),\r\n            elt(\"label\", null, [this.caseField, phrase(view, \"match case\")]),\r\n            elt(\"label\", null, [this.reField, phrase(view, \"regexp\")]),\r\n            elt(\"label\", null, [this.wordField, phrase(view, \"by word\")]),\r\n            ...view.state.readOnly ? [] : [\r\n                elt(\"br\"),\r\n                this.replaceField,\r\n                button(\"replace\", () => replaceNext(view), [phrase(view, \"replace\")]),\r\n                button(\"replaceAll\", () => replaceAll(view), [phrase(view, \"replace all\")])\r\n            ],\r\n            elt(\"button\", {\r\n                name: \"close\",\r\n                onclick: () => closeSearchPanel(view),\r\n                \"aria-label\": phrase(view, \"close\"),\r\n                type: \"button\"\r\n            }, [\"×\"])\r\n        ]);\r\n    }\r\n    commit() {\r\n        let query = new SearchQuery({\r\n            search: this.searchField.value,\r\n            caseSensitive: this.caseField.checked,\r\n            regexp: this.reField.checked,\r\n            wholeWord: this.wordField.checked,\r\n            replace: this.replaceField.value,\r\n        });\r\n        if (!query.eq(this.query)) {\r\n            this.query = query;\r\n            this.view.dispatch({ effects: setSearchQuery.of(query) });\r\n        }\r\n    }\r\n    keydown(e) {\r\n        if (runScopeHandlers(this.view, e, \"search-panel\")) {\r\n            e.preventDefault();\r\n        }\r\n        else if (e.keyCode == 13 && e.target == this.searchField) {\r\n            e.preventDefault();\r\n            (e.shiftKey ? findPrevious : findNext)(this.view);\r\n        }\r\n        else if (e.keyCode == 13 && e.target == this.replaceField) {\r\n            e.preventDefault();\r\n            replaceNext(this.view);\r\n        }\r\n    }\r\n    update(update) {\r\n        for (let tr of update.transactions)\r\n            for (let effect of tr.effects) {\r\n                if (effect.is(setSearchQuery) && !effect.value.eq(this.query))\r\n                    this.setQuery(effect.value);\r\n            }\r\n    }\r\n    setQuery(query) {\r\n        this.query = query;\r\n        this.searchField.value = query.search;\r\n        this.replaceField.value = query.replace;\r\n        this.caseField.checked = query.caseSensitive;\r\n        this.reField.checked = query.regexp;\r\n        this.wordField.checked = query.wholeWord;\r\n    }\r\n    mount() {\r\n        this.searchField.select();\r\n    }\r\n    get pos() { return 80; }\r\n    get top() { return this.view.state.facet(searchConfigFacet).top; }\r\n}\r\nfunction phrase(view, phrase) { return view.state.phrase(phrase); }\r\nconst AnnounceMargin = 30;\r\nconst Break = /[\\s\\.,:;?!]/;\r\nfunction announceMatch(view, { from, to }) {\r\n    let line = view.state.doc.lineAt(from), lineEnd = view.state.doc.lineAt(to).to;\r\n    let start = Math.max(line.from, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\r\n    let text = view.state.sliceDoc(start, end);\r\n    if (start != line.from) {\r\n        for (let i = 0; i < AnnounceMargin; i++)\r\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\r\n                text = text.slice(i);\r\n                break;\r\n            }\r\n    }\r\n    if (end != lineEnd) {\r\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\r\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\r\n                text = text.slice(0, i);\r\n                break;\r\n            }\r\n    }\r\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${line.number}.`);\r\n}\r\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\r\n    \".cm-panel.cm-search\": {\r\n        padding: \"2px 6px 4px\",\r\n        position: \"relative\",\r\n        \"& [name=close]\": {\r\n            position: \"absolute\",\r\n            top: \"0\",\r\n            right: \"4px\",\r\n            backgroundColor: \"inherit\",\r\n            border: \"none\",\r\n            font: \"inherit\",\r\n            padding: 0,\r\n            margin: 0\r\n        },\r\n        \"& input, & button, & label\": {\r\n            margin: \".2em .6em .2em 0\"\r\n        },\r\n        \"& input[type=checkbox]\": {\r\n            marginRight: \".2em\"\r\n        },\r\n        \"& label\": {\r\n            fontSize: \"80%\",\r\n            whiteSpace: \"pre\"\r\n        }\r\n    },\r\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\r\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\r\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\r\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\r\n});\r\nconst searchExtensions = [\r\n    searchState,\r\n    /*@__PURE__*/Prec.low(searchHighlighter),\r\n    baseTheme\r\n];\r\n\r\nexport { RegExpCursor, SearchCursor, SearchQuery, closeSearchPanel, findNext, findPrevious, getSearchQuery, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, search, searchKeymap, searchPanelOpen, selectMatches, selectNextOccurrence, selectSelectionMatches, setSearchQuery };\r\n", "import { Decoration, showPanel, EditorView, ViewPlugin, gutter, showTooltip, hoverTooltip, getPanel, logException, WidgetType, GutterMarker } from '@codemirror/view';\r\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\r\nimport elt from 'crelt';\r\n\r\nclass SelectedDiagnostic {\r\n    constructor(from, to, diagnostic) {\r\n        this.from = from;\r\n        this.to = to;\r\n        this.diagnostic = diagnostic;\r\n    }\r\n}\r\nclass LintState {\r\n    constructor(diagnostics, panel, selected) {\r\n        this.diagnostics = diagnostics;\r\n        this.panel = panel;\r\n        this.selected = selected;\r\n    }\r\n    static init(diagnostics, panel, state) {\r\n        // Filter the list of diagnostics for which to create markers\r\n        let markedDiagnostics = diagnostics;\r\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\r\n        if (diagnosticFilter)\r\n            markedDiagnostics = diagnosticFilter(markedDiagnostics, state);\r\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\r\n            // For zero-length ranges or ranges covering only a line break, create a widget\r\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\r\n                ? Decoration.widget({\r\n                    widget: new DiagnosticWidget(d),\r\n                    diagnostic: d\r\n                }).range(d.from)\r\n                : Decoration.mark({\r\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity + (d.markClass ? \" \" + d.markClass : \"\") },\r\n                    diagnostic: d\r\n                }).range(d.from, d.to);\r\n        }), true);\r\n        return new LintState(ranges, panel, findDiagnostic(ranges));\r\n    }\r\n}\r\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\r\n    let found = null;\r\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\r\n        if (diagnostic && spec.diagnostic != diagnostic)\r\n            return;\r\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\r\n        return false;\r\n    });\r\n    return found;\r\n}\r\nfunction hideTooltip(tr, tooltip) {\r\n    let from = tooltip.pos, to = tooltip.end || from;\r\n    let result = tr.state.facet(lintConfig).hideOn(tr, from, to);\r\n    if (result != null)\r\n        return result;\r\n    let line = tr.startState.doc.lineAt(tooltip.pos);\r\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(line.from, Math.max(line.to, to)));\r\n}\r\nfunction maybeEnableLint(state, effects) {\r\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));\r\n}\r\n/**\r\nReturns a transaction spec which updates the current set of\r\ndiagnostics, and enables the lint extension if if wasn't already\r\nactive.\r\n*/\r\nfunction setDiagnostics(state, diagnostics) {\r\n    return {\r\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\r\n    };\r\n}\r\n/**\r\nThe state effect that updates the set of active diagnostics. Can\r\nbe useful when writing an extension that needs to track these.\r\n*/\r\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\r\nconst togglePanel = /*@__PURE__*/StateEffect.define();\r\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\r\nconst lintState = /*@__PURE__*/StateField.define({\r\n    create() {\r\n        return new LintState(Decoration.none, null, null);\r\n    },\r\n    update(value, tr) {\r\n        if (tr.docChanged && value.diagnostics.size) {\r\n            let mapped = value.diagnostics.map(tr.changes), selected = null, panel = value.panel;\r\n            if (value.selected) {\r\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\r\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\r\n            }\r\n            if (!mapped.size && panel && tr.state.facet(lintConfig).autoPanel)\r\n                panel = null;\r\n            value = new LintState(mapped, panel, selected);\r\n        }\r\n        for (let effect of tr.effects) {\r\n            if (effect.is(setDiagnosticsEffect)) {\r\n                let panel = !tr.state.facet(lintConfig).autoPanel ? value.panel : effect.value.length ? LintPanel.open : null;\r\n                value = LintState.init(effect.value, panel, tr.state);\r\n            }\r\n            else if (effect.is(togglePanel)) {\r\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\r\n            }\r\n            else if (effect.is(movePanelSelection)) {\r\n                value = new LintState(value.diagnostics, value.panel, effect.value);\r\n            }\r\n        }\r\n        return value;\r\n    },\r\n    provide: f => [showPanel.from(f, val => val.panel),\r\n        EditorView.decorations.from(f, s => s.diagnostics)]\r\n});\r\n/**\r\nReturns the number of active lint diagnostics in the given state.\r\n*/\r\nfunction diagnosticCount(state) {\r\n    let lint = state.field(lintState, false);\r\n    return lint ? lint.diagnostics.size : 0;\r\n}\r\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\r\nfunction lintTooltip(view, pos, side) {\r\n    let { diagnostics } = view.state.field(lintState);\r\n    let found = [], stackStart = 2e8, stackEnd = 0;\r\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\r\n        if (pos >= from && pos <= to &&\r\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\r\n            found.push(spec.diagnostic);\r\n            stackStart = Math.min(from, stackStart);\r\n            stackEnd = Math.max(to, stackEnd);\r\n        }\r\n    });\r\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\r\n    if (diagnosticFilter)\r\n        found = diagnosticFilter(found, view.state);\r\n    if (!found.length)\r\n        return null;\r\n    return {\r\n        pos: stackStart,\r\n        end: stackEnd,\r\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\r\n        create() {\r\n            return { dom: diagnosticsTooltip(view, found) };\r\n        }\r\n    };\r\n}\r\nfunction diagnosticsTooltip(view, diagnostics) {\r\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\r\n}\r\n/**\r\nCommand to open and focus the lint panel.\r\n*/\r\nconst openLintPanel = (view) => {\r\n    let field = view.state.field(lintState, false);\r\n    if (!field || !field.panel)\r\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\r\n    let panel = getPanel(view, LintPanel.open);\r\n    if (panel)\r\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\r\n    return true;\r\n};\r\n/**\r\nCommand to close the lint panel, when open.\r\n*/\r\nconst closeLintPanel = (view) => {\r\n    let field = view.state.field(lintState, false);\r\n    if (!field || !field.panel)\r\n        return false;\r\n    view.dispatch({ effects: togglePanel.of(false) });\r\n    return true;\r\n};\r\n/**\r\nMove the selection to the next diagnostic.\r\n*/\r\nconst nextDiagnostic = (view) => {\r\n    let field = view.state.field(lintState, false);\r\n    if (!field)\r\n        return false;\r\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\r\n    if (!next.value) {\r\n        next = field.diagnostics.iter(0);\r\n        if (!next.value || next.from == sel.from && next.to == sel.to)\r\n            return false;\r\n    }\r\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\r\n    return true;\r\n};\r\n/**\r\nMove the selection to the previous diagnostic.\r\n*/\r\nconst previousDiagnostic = (view) => {\r\n    let { state } = view, field = state.field(lintState, false);\r\n    if (!field)\r\n        return false;\r\n    let sel = state.selection.main;\r\n    let prevFrom, prevTo, lastFrom, lastTo;\r\n    field.diagnostics.between(0, state.doc.length, (from, to) => {\r\n        if (to < sel.to && (prevFrom == null || prevFrom < from)) {\r\n            prevFrom = from;\r\n            prevTo = to;\r\n        }\r\n        if (lastFrom == null || from > lastFrom) {\r\n            lastFrom = from;\r\n            lastTo = to;\r\n        }\r\n    });\r\n    if (lastFrom == null || prevFrom == null && lastFrom == sel.from)\r\n        return false;\r\n    view.dispatch({ selection: { anchor: prevFrom !== null && prevFrom !== void 0 ? prevFrom : lastFrom, head: prevTo !== null && prevTo !== void 0 ? prevTo : lastTo }, scrollIntoView: true });\r\n    return true;\r\n};\r\n/**\r\nA set of default key bindings for the lint functionality.\r\n\r\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\r\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\r\n*/\r\nconst lintKeymap = [\r\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\r\n    { key: \"F8\", run: nextDiagnostic }\r\n];\r\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\r\n    constructor(view) {\r\n        this.view = view;\r\n        this.timeout = -1;\r\n        this.set = true;\r\n        let { delay } = view.state.facet(lintConfig);\r\n        this.lintTime = Date.now() + delay;\r\n        this.run = this.run.bind(this);\r\n        this.timeout = setTimeout(this.run, delay);\r\n    }\r\n    run() {\r\n        clearTimeout(this.timeout);\r\n        let now = Date.now();\r\n        if (now < this.lintTime - 10) {\r\n            this.timeout = setTimeout(this.run, this.lintTime - now);\r\n        }\r\n        else {\r\n            this.set = false;\r\n            let { state } = this.view, { sources } = state.facet(lintConfig);\r\n            if (sources.length)\r\n                batchResults(sources.map(s => Promise.resolve(s(this.view))), annotations => {\r\n                    if (this.view.state.doc == state.doc)\r\n                        this.view.dispatch(setDiagnostics(this.view.state, annotations.reduce((a, b) => a.concat(b))));\r\n                }, error => { logException(this.view.state, error); });\r\n        }\r\n    }\r\n    update(update) {\r\n        let config = update.state.facet(lintConfig);\r\n        if (update.docChanged || config != update.startState.facet(lintConfig) ||\r\n            config.needsRefresh && config.needsRefresh(update)) {\r\n            this.lintTime = Date.now() + config.delay;\r\n            if (!this.set) {\r\n                this.set = true;\r\n                this.timeout = setTimeout(this.run, config.delay);\r\n            }\r\n        }\r\n    }\r\n    force() {\r\n        if (this.set) {\r\n            this.lintTime = Date.now();\r\n            this.run();\r\n        }\r\n    }\r\n    destroy() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n});\r\nfunction batchResults(promises, sink, error) {\r\n    let collected = [], timeout = -1;\r\n    for (let p of promises)\r\n        p.then(value => {\r\n            collected.push(value);\r\n            clearTimeout(timeout);\r\n            if (collected.length == promises.length)\r\n                sink(collected);\r\n            else\r\n                setTimeout(() => sink(collected), 200);\r\n        }, error);\r\n}\r\nconst lintConfig = /*@__PURE__*/Facet.define({\r\n    combine(input) {\r\n        return Object.assign({ sources: input.map(i => i.source).filter(x => x != null) }, combineConfig(input.map(i => i.config), {\r\n            delay: 750,\r\n            markerFilter: null,\r\n            tooltipFilter: null,\r\n            needsRefresh: null,\r\n            hideOn: () => null,\r\n        }, {\r\n            needsRefresh: (a, b) => !a ? b : !b ? a : u => a(u) || b(u)\r\n        }));\r\n    }\r\n});\r\n/**\r\nGiven a diagnostic source, this function returns an extension that\r\nenables linting with that source. It will be called whenever the\r\neditor is idle (after its content changed). If `null` is given as\r\nsource, this only configures the lint extension.\r\n*/\r\nfunction linter(source, config = {}) {\r\n    return [\r\n        lintConfig.of({ source, config }),\r\n        lintPlugin,\r\n        lintExtensions\r\n    ];\r\n}\r\n/**\r\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\r\neditor is idle to run right away.\r\n*/\r\nfunction forceLinting(view) {\r\n    let plugin = view.plugin(lintPlugin);\r\n    if (plugin)\r\n        plugin.force();\r\n}\r\nfunction assignKeys(actions) {\r\n    let assigned = [];\r\n    if (actions)\r\n        actions: for (let { name } of actions) {\r\n            for (let i = 0; i < name.length; i++) {\r\n                let ch = name[i];\r\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\r\n                    assigned.push(ch);\r\n                    continue actions;\r\n                }\r\n            }\r\n            assigned.push(\"\");\r\n        }\r\n    return assigned;\r\n}\r\nfunction renderDiagnostic(view, diagnostic, inPanel) {\r\n    var _a;\r\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\r\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage(view) : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\r\n        let fired = false, click = (e) => {\r\n            e.preventDefault();\r\n            if (fired)\r\n                return;\r\n            fired = true;\r\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\r\n            if (found)\r\n                action.apply(view, found.from, found.to);\r\n        };\r\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\r\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\r\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\r\n            name.slice(keyIndex + 1)];\r\n        return elt(\"button\", {\r\n            type: \"button\",\r\n            class: \"cm-diagnosticAction\",\r\n            onclick: click,\r\n            onmousedown: click,\r\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\r\n        }, nameElt);\r\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\r\n}\r\nclass DiagnosticWidget extends WidgetType {\r\n    constructor(diagnostic) {\r\n        super();\r\n        this.diagnostic = diagnostic;\r\n    }\r\n    eq(other) { return other.diagnostic == this.diagnostic; }\r\n    toDOM() {\r\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\r\n    }\r\n}\r\nclass PanelItem {\r\n    constructor(view, diagnostic) {\r\n        this.diagnostic = diagnostic;\r\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\r\n        this.dom = renderDiagnostic(view, diagnostic, true);\r\n        this.dom.id = this.id;\r\n        this.dom.setAttribute(\"role\", \"option\");\r\n    }\r\n}\r\nclass LintPanel {\r\n    constructor(view) {\r\n        this.view = view;\r\n        this.items = [];\r\n        let onkeydown = (event) => {\r\n            if (event.keyCode == 27) { // Escape\r\n                closeLintPanel(this.view);\r\n                this.view.focus();\r\n            }\r\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\r\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\r\n            }\r\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\r\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\r\n            }\r\n            else if (event.keyCode == 36) { // Home\r\n                this.moveSelection(0);\r\n            }\r\n            else if (event.keyCode == 35) { // End\r\n                this.moveSelection(this.items.length - 1);\r\n            }\r\n            else if (event.keyCode == 13) { // Enter\r\n                this.view.focus();\r\n            }\r\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\r\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\r\n                for (let i = 0; i < keys.length; i++)\r\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\r\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\r\n                        if (found)\r\n                            diagnostic.actions[i].apply(view, found.from, found.to);\r\n                    }\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n        };\r\n        let onclick = (event) => {\r\n            for (let i = 0; i < this.items.length; i++) {\r\n                if (this.items[i].dom.contains(event.target))\r\n                    this.moveSelection(i);\r\n            }\r\n        };\r\n        this.list = elt(\"ul\", {\r\n            tabIndex: 0,\r\n            role: \"listbox\",\r\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\r\n            onkeydown,\r\n            onclick\r\n        });\r\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\r\n            type: \"button\",\r\n            name: \"close\",\r\n            \"aria-label\": this.view.state.phrase(\"close\"),\r\n            onclick: () => closeLintPanel(this.view)\r\n        }, \"×\"));\r\n        this.update();\r\n    }\r\n    get selectedIndex() {\r\n        let selected = this.view.state.field(lintState).selected;\r\n        if (!selected)\r\n            return -1;\r\n        for (let i = 0; i < this.items.length; i++)\r\n            if (this.items[i].diagnostic == selected.diagnostic)\r\n                return i;\r\n        return -1;\r\n    }\r\n    update() {\r\n        let { diagnostics, selected } = this.view.state.field(lintState);\r\n        let i = 0, needsSync = false, newSelectedItem = null;\r\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\r\n            let found = -1, item;\r\n            for (let j = i; j < this.items.length; j++)\r\n                if (this.items[j].diagnostic == spec.diagnostic) {\r\n                    found = j;\r\n                    break;\r\n                }\r\n            if (found < 0) {\r\n                item = new PanelItem(this.view, spec.diagnostic);\r\n                this.items.splice(i, 0, item);\r\n                needsSync = true;\r\n            }\r\n            else {\r\n                item = this.items[found];\r\n                if (found > i) {\r\n                    this.items.splice(i, found - i);\r\n                    needsSync = true;\r\n                }\r\n            }\r\n            if (selected && item.diagnostic == selected.diagnostic) {\r\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\r\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\r\n                    newSelectedItem = item;\r\n                }\r\n            }\r\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\r\n                item.dom.removeAttribute(\"aria-selected\");\r\n            }\r\n            i++;\r\n        });\r\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\r\n            needsSync = true;\r\n            this.items.pop();\r\n        }\r\n        if (this.items.length == 0) {\r\n            this.items.push(new PanelItem(this.view, {\r\n                from: -1, to: -1,\r\n                severity: \"info\",\r\n                message: this.view.state.phrase(\"No diagnostics\")\r\n            }));\r\n            needsSync = true;\r\n        }\r\n        if (newSelectedItem) {\r\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\r\n            this.view.requestMeasure({\r\n                key: this,\r\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\r\n                write: ({ sel, panel }) => {\r\n                    let scaleY = panel.height / this.list.offsetHeight;\r\n                    if (sel.top < panel.top)\r\n                        this.list.scrollTop -= (panel.top - sel.top) / scaleY;\r\n                    else if (sel.bottom > panel.bottom)\r\n                        this.list.scrollTop += (sel.bottom - panel.bottom) / scaleY;\r\n                }\r\n            });\r\n        }\r\n        else if (this.selectedIndex < 0) {\r\n            this.list.removeAttribute(\"aria-activedescendant\");\r\n        }\r\n        if (needsSync)\r\n            this.sync();\r\n    }\r\n    sync() {\r\n        let domPos = this.list.firstChild;\r\n        function rm() {\r\n            let prev = domPos;\r\n            domPos = prev.nextSibling;\r\n            prev.remove();\r\n        }\r\n        for (let item of this.items) {\r\n            if (item.dom.parentNode == this.list) {\r\n                while (domPos != item.dom)\r\n                    rm();\r\n                domPos = item.dom.nextSibling;\r\n            }\r\n            else {\r\n                this.list.insertBefore(item.dom, domPos);\r\n            }\r\n        }\r\n        while (domPos)\r\n            rm();\r\n    }\r\n    moveSelection(selectedIndex) {\r\n        if (this.selectedIndex < 0)\r\n            return;\r\n        let field = this.view.state.field(lintState);\r\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\r\n        if (!selection)\r\n            return;\r\n        this.view.dispatch({\r\n            selection: { anchor: selection.from, head: selection.to },\r\n            scrollIntoView: true,\r\n            effects: movePanelSelection.of(selection)\r\n        });\r\n    }\r\n    static open(view) { return new LintPanel(view); }\r\n}\r\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\r\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\r\n}\r\nfunction underline(color) {\r\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\r\n}\r\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\r\n    \".cm-diagnostic\": {\r\n        padding: \"3px 6px 3px 8px\",\r\n        marginLeft: \"-1px\",\r\n        display: \"block\",\r\n        whiteSpace: \"pre-wrap\"\r\n    },\r\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\r\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\r\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\r\n    \".cm-diagnostic-hint\": { borderLeft: \"5px solid #66d\" },\r\n    \".cm-diagnosticAction\": {\r\n        font: \"inherit\",\r\n        border: \"none\",\r\n        padding: \"2px 4px\",\r\n        backgroundColor: \"#444\",\r\n        color: \"white\",\r\n        borderRadius: \"3px\",\r\n        marginLeft: \"8px\",\r\n        cursor: \"pointer\"\r\n    },\r\n    \".cm-diagnosticSource\": {\r\n        fontSize: \"70%\",\r\n        opacity: .7\r\n    },\r\n    \".cm-lintRange\": {\r\n        backgroundPosition: \"left bottom\",\r\n        backgroundRepeat: \"repeat-x\",\r\n        paddingBottom: \"0.7px\",\r\n    },\r\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\r\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\r\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\r\n    \".cm-lintRange-hint\": { backgroundImage: /*@__PURE__*/underline(\"#66d\") },\r\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\r\n    \".cm-tooltip-lint\": {\r\n        padding: 0,\r\n        margin: 0\r\n    },\r\n    \".cm-lintPoint\": {\r\n        position: \"relative\",\r\n        \"&:after\": {\r\n            content: '\"\"',\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            left: \"-2px\",\r\n            borderLeft: \"3px solid transparent\",\r\n            borderRight: \"3px solid transparent\",\r\n            borderBottom: \"4px solid #d11\"\r\n        }\r\n    },\r\n    \".cm-lintPoint-warning\": {\r\n        \"&:after\": { borderBottomColor: \"orange\" }\r\n    },\r\n    \".cm-lintPoint-info\": {\r\n        \"&:after\": { borderBottomColor: \"#999\" }\r\n    },\r\n    \".cm-lintPoint-hint\": {\r\n        \"&:after\": { borderBottomColor: \"#66d\" }\r\n    },\r\n    \".cm-panel.cm-panel-lint\": {\r\n        position: \"relative\",\r\n        \"& ul\": {\r\n            maxHeight: \"100px\",\r\n            overflowY: \"auto\",\r\n            \"& [aria-selected]\": {\r\n                backgroundColor: \"#ddd\",\r\n                \"& u\": { textDecoration: \"underline\" }\r\n            },\r\n            \"&:focus [aria-selected]\": {\r\n                background_fallback: \"#bdf\",\r\n                backgroundColor: \"Highlight\",\r\n                color_fallback: \"white\",\r\n                color: \"HighlightText\"\r\n            },\r\n            \"& u\": { textDecoration: \"none\" },\r\n            padding: 0,\r\n            margin: 0\r\n        },\r\n        \"& [name=close]\": {\r\n            position: \"absolute\",\r\n            top: \"0\",\r\n            right: \"2px\",\r\n            background: \"inherit\",\r\n            border: \"none\",\r\n            font: \"inherit\",\r\n            padding: 0,\r\n            margin: 0\r\n        }\r\n    }\r\n});\r\nfunction severityWeight(sev) {\r\n    return sev == \"error\" ? 4 : sev == \"warning\" ? 3 : sev == \"info\" ? 2 : 1;\r\n}\r\nclass LintGutterMarker extends GutterMarker {\r\n    constructor(diagnostics) {\r\n        super();\r\n        this.diagnostics = diagnostics;\r\n        this.severity = diagnostics.reduce((max, d) => severityWeight(max) < severityWeight(d.severity) ? d.severity : max, \"hint\");\r\n    }\r\n    toDOM(view) {\r\n        let elt = document.createElement(\"div\");\r\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\r\n        let diagnostics = this.diagnostics;\r\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\r\n        if (diagnosticsFilter)\r\n            diagnostics = diagnosticsFilter(diagnostics, view.state);\r\n        if (diagnostics.length)\r\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\r\n        return elt;\r\n    }\r\n}\r\nfunction trackHoverOn(view, marker) {\r\n    let mousemove = (event) => {\r\n        let rect = marker.getBoundingClientRect();\r\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\r\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\r\n            return;\r\n        for (let target = event.target; target; target = target.parentNode) {\r\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\r\n                return;\r\n        }\r\n        window.removeEventListener(\"mousemove\", mousemove);\r\n        if (view.state.field(lintGutterTooltip))\r\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\r\n    };\r\n    window.addEventListener(\"mousemove\", mousemove);\r\n}\r\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\r\n    function hovered() {\r\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\r\n        const linePos = view.coordsAtPos(line.from);\r\n        if (linePos) {\r\n            view.dispatch({ effects: setLintGutterTooltip.of({\r\n                    pos: line.from,\r\n                    above: false,\r\n                    create() {\r\n                        return {\r\n                            dom: diagnosticsTooltip(view, diagnostics),\r\n                            getCoords: () => marker.getBoundingClientRect()\r\n                        };\r\n                    }\r\n                }) });\r\n        }\r\n        marker.onmouseout = marker.onmousemove = null;\r\n        trackHoverOn(view, marker);\r\n    }\r\n    let { hoverTime } = view.state.facet(lintGutterConfig);\r\n    let hoverTimeout = setTimeout(hovered, hoverTime);\r\n    marker.onmouseout = () => {\r\n        clearTimeout(hoverTimeout);\r\n        marker.onmouseout = marker.onmousemove = null;\r\n    };\r\n    marker.onmousemove = () => {\r\n        clearTimeout(hoverTimeout);\r\n        hoverTimeout = setTimeout(hovered, hoverTime);\r\n    };\r\n}\r\nfunction markersForDiagnostics(doc, diagnostics) {\r\n    let byLine = Object.create(null);\r\n    for (let diagnostic of diagnostics) {\r\n        let line = doc.lineAt(diagnostic.from);\r\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\r\n    }\r\n    let markers = [];\r\n    for (let line in byLine) {\r\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\r\n    }\r\n    return RangeSet.of(markers, true);\r\n}\r\nconst lintGutterExtension = /*@__PURE__*/gutter({\r\n    class: \"cm-gutter-lint\",\r\n    markers: view => view.state.field(lintGutterMarkers),\r\n    widgetMarker: (view, widget, block) => {\r\n        let diagnostics = [];\r\n        view.state.field(lintGutterMarkers).between(block.from, block.to, (from, to, value) => {\r\n            diagnostics.push(...value.diagnostics);\r\n        });\r\n        return diagnostics.length ? new LintGutterMarker(diagnostics) : null;\r\n    }\r\n});\r\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\r\n    create() {\r\n        return RangeSet.empty;\r\n    },\r\n    update(markers, tr) {\r\n        markers = markers.map(tr.changes);\r\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\r\n        for (let effect of tr.effects) {\r\n            if (effect.is(setDiagnosticsEffect)) {\r\n                let diagnostics = effect.value;\r\n                if (diagnosticFilter)\r\n                    diagnostics = diagnosticFilter(diagnostics || [], tr.state);\r\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\r\n            }\r\n        }\r\n        return markers;\r\n    }\r\n});\r\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\r\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\r\n    create() { return null; },\r\n    update(tooltip, tr) {\r\n        if (tooltip && tr.docChanged)\r\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\r\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\r\n    },\r\n    provide: field => showTooltip.from(field)\r\n});\r\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\r\n    \".cm-gutter-lint\": {\r\n        width: \"1.4em\",\r\n        \"& .cm-gutterElement\": {\r\n            padding: \".2em\"\r\n        }\r\n    },\r\n    \".cm-lint-marker\": {\r\n        width: \"1em\",\r\n        height: \"1em\"\r\n    },\r\n    \".cm-lint-marker-info\": {\r\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\r\n    },\r\n    \".cm-lint-marker-warning\": {\r\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\r\n    },\r\n    \".cm-lint-marker-error\": {\r\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\r\n    },\r\n});\r\nconst lintExtensions = [\r\n    lintState,\r\n    /*@__PURE__*/EditorView.decorations.compute([lintState], state => {\r\n        let { selected, panel } = state.field(lintState);\r\n        return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\r\n            activeMark.range(selected.from, selected.to)\r\n        ]);\r\n    }),\r\n    /*@__PURE__*/hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\r\n    baseTheme\r\n];\r\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\r\n    combine(configs) {\r\n        return combineConfig(configs, {\r\n            hoverTime: 300 /* Hover.Time */,\r\n            markerFilter: null,\r\n            tooltipFilter: null\r\n        });\r\n    }\r\n});\r\n/**\r\nReturns an extension that installs a gutter showing markers for\r\neach line that has diagnostics, which can be hovered over to see\r\nthe diagnostics.\r\n*/\r\nfunction lintGutter(config = {}) {\r\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\r\n}\r\n/**\r\nIterate over the marked diagnostics for the given editor state,\r\ncalling `f` for each of them. Note that, if the document changed\r\nsince the diagnostics were created, the `Diagnostic` object will\r\nhold the original outdated position, whereas the `to` and `from`\r\narguments hold the diagnostic's current position.\r\n*/\r\nfunction forEachDiagnostic(state, f) {\r\n    let lState = state.field(lintState, false);\r\n    if (lState && lState.diagnostics.size)\r\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\r\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\r\n}\r\n\r\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, previousDiagnostic, setDiagnostics, setDiagnosticsEffect };\r\n", "import { lineNumbers, highlightActiveLineGutter, highlightSpecialChars, drawSelection, dropCursor, rectangularSelection, crosshairCursor, highlightActiveLine, keymap } from '@codemirror/view';\r\nexport { EditorView } from '@codemirror/view';\r\nimport { EditorState } from '@codemirror/state';\r\nimport { foldGutter, indentOnInput, syntaxHighlighting, defaultHighlightStyle, bracketMatching, foldKeymap } from '@codemirror/language';\r\nimport { history, defaultKeymap, historyKeymap } from '@codemirror/commands';\r\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\r\nimport { closeBrackets, autocompletion, closeBracketsKeymap, completionKeymap } from '@codemirror/autocomplete';\r\nimport { lintKeymap } from '@codemirror/lint';\r\n\r\n// (The superfluous function calls around the list of extensions work\r\n// around current limitations in tree-shaking software.)\r\n/**\r\nThis is an extension value that just pulls together a number of\r\nextensions that you might want in a basic editor. It is meant as a\r\nconvenient helper to quickly set up CodeMirror without installing\r\nand importing a lot of separate packages.\r\n\r\nSpecifically, it includes...\r\n\r\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\r\n - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\r\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\r\n - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\r\n - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\r\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\r\n - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\r\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\r\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\r\n - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\r\n - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\r\n - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\r\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\r\n - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\r\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\r\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\r\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\r\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\r\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\r\n\r\n(You'll probably want to add some language package to your setup\r\ntoo.)\r\n\r\nThis extension does not allow customization. The idea is that,\r\nonce you decide you want to configure your editor more precisely,\r\nyou take this package's source (which is just a bunch of imports\r\nand an array literal), copy it into your own code, and adjust it\r\nas desired.\r\n*/\r\nconst basicSetup = /*@__PURE__*/(() => [\r\n    lineNumbers(),\r\n    highlightActiveLineGutter(),\r\n    highlightSpecialChars(),\r\n    history(),\r\n    foldGutter(),\r\n    drawSelection(),\r\n    dropCursor(),\r\n    EditorState.allowMultipleSelections.of(true),\r\n    indentOnInput(),\r\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\r\n    bracketMatching(),\r\n    closeBrackets(),\r\n    autocompletion(),\r\n    rectangularSelection(),\r\n    crosshairCursor(),\r\n    highlightActiveLine(),\r\n    highlightSelectionMatches(),\r\n    keymap.of([\r\n        ...closeBracketsKeymap,\r\n        ...defaultKeymap,\r\n        ...searchKeymap,\r\n        ...historyKeymap,\r\n        ...foldKeymap,\r\n        ...completionKeymap,\r\n        ...lintKeymap\r\n    ])\r\n])();\r\n/**\r\nA minimal set of extensions to create a functional editor. Only\r\nincludes [the default keymap](https://codemirror.net/6/docs/ref/#commands.defaultKeymap), [undo\r\nhistory](https://codemirror.net/6/docs/ref/#commands.history), [special character\r\nhighlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars), [custom selection\r\ndrawing](https://codemirror.net/6/docs/ref/#view.drawSelection), and [default highlight\r\nstyle](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle).\r\n*/\r\nconst minimalSetup = /*@__PURE__*/(() => [\r\n    highlightSpecialChars(),\r\n    history(),\r\n    drawSelection(),\r\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\r\n    keymap.of([\r\n        ...defaultKeymap,\r\n        ...historyKeymap,\r\n    ])\r\n])();\r\n\r\nexport { basicSetup, minimalSetup };\r\n"],
  "mappings": "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",
  "names": ["line", "word", "add", "from", "to", "phrase", "togglePanel", "togglePanel", "baseTheme"]
}
